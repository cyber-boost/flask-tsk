<?php
/**
 * <?tusk> navbar-alt-3 Navigation Component - Mega Menu Variant
 * Auto-Inclusion: [tusk-component-navbar-alt-3]
 */
?>

<nav class="tusk-navbar-alt-3" id="tusk-navbar-alt-3">
    <div class="navbar-container">
        <div class="navbar-brand">
            <a href="#" class="brand-link">
                <div class="brand-logo">
                    <span class="logo-primary">üêò</span>
                    <span class="logo-secondary">üíé</span>
                </div>
                <div class="brand-content">
                    <h1 class="brand-title">TuskPHP</h1>
                    <p class="brand-tagline">Enterprise Framework</p>
                </div>
            </a>
        </div>
        
        <div class="navbar-menu" id="navbar-menu-alt-3">
            <div class="menu-item mega-menu-trigger" data-menu="products">
                <a href="#" class="menu-link">
                    <span class="link-icon">üèóÔ∏è</span>
                    <span class="link-text">Products</span>
                    <i class="fas fa-chevron-down link-arrow"></i>
                </a>
                
                <div class="mega-menu" id="mega-menu-products">
                    <div class="mega-menu-container">
                        <div class="mega-section">
                            <h3 class="mega-title">Framework</h3>
                            <div class="mega-links">
                                <a href="#" class="mega-link">
                                    <div class="mega-link-icon">üêò</div>
                                    <div class="mega-link-content">
                                        <h4>Core Framework</h4>
                                        <p>The foundation of your applications</p>
                                    </div>
                                </a>
                                <a href="#" class="mega-link">
                                    <div class="mega-link-icon">‚ö°</div>
                                    <div class="mega-link-content">
                                        <h4>Performance Tools</h4>
                                        <p>Optimize and scale your apps</p>
                                    </div>
                                </a>
                                <a href="#" class="mega-link">
                                    <div class="mega-link-icon">üõ°Ô∏è</div>
                                    <div class="mega-link-content">
                                        <h4>Security Suite</h4>
                                        <p>Advanced protection features</p>
                                    </div>
                                </a>
                            </div>
                        </div>
                        
                        <div class="mega-section">
                            <h3 class="mega-title">Tools</h3>
                            <div class="mega-links">
                                <a href="#" class="mega-link">
                                    <div class="mega-link-icon">üíª</div>
                                    <div class="mega-link-content">
                                        <h4>CLI Tools</h4>
                                        <p>Command line utilities</p>
                                    </div>
                                </a>
                                <a href="#" class="mega-link">
                                    <div class="mega-link-icon">üß©</div>
                                    <div class="mega-link-content">
                                        <h4>Components</h4>
                                        <p>Reusable UI elements</p>
                                    </div>
                                </a>
                                <a href="#" class="mega-link">
                                    <div class="mega-link-icon">üé®</div>
                                    <div class="mega-link-content">
                                        <h4>Themes</h4>
                                        <p>Beautiful design systems</p>
                                    </div>
                                </a>
                            </div>
                        </div>
                        
                        <div class="mega-section">
                            <h3 class="mega-title">Enterprise</h3>
                            <div class="mega-links">
                                <a href="#" class="mega-link">
                                    <div class="mega-link-icon">üè¢</div>
                                    <div class="mega-link-content">
                                        <h4>Enterprise Edition</h4>
                                        <p>For large organizations</p>
                                    </div>
                                </a>
                                <a href="#" class="mega-link">
                                    <div class="mega-link-icon">‚òÅÔ∏è</div>
                                    <div class="mega-link-content">
                                        <h4>Cloud Hosting</h4>
                                        <p>Managed infrastructure</p>
                                    </div>
                                </a>
                                <a href="#" class="mega-link">
                                    <div class="mega-link-icon">üìû</div>
                                    <div class="mega-link-content">
                                        <h4>Support</h4>
                                        <p>24/7 expert assistance</p>
                                    </div>
                                </a>
                            </div>
                        </div>
                        
                        <div class="mega-feature">
                            <div class="feature-card">
                                <h3>üöÄ New Release</h3>
                                <p>TuskPHP v3.0 is now available with enhanced performance and new features.</p>
                                <a href="#" class="feature-button">Learn More</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="menu-item mega-menu-trigger" data-menu="developers">
                <a href="#" class="menu-link">
                    <span class="link-icon">üë®‚Äçüíª</span>
                    <span class="link-text">Developers</span>
                    <i class="fas fa-chevron-down link-arrow"></i>
                </a>
                
                <div class="mega-menu" id="mega-menu-developers">
                    <div class="mega-menu-container">
                        <div class="mega-section">
                            <h3 class="mega-title">Documentation</h3>
                            <div class="mega-links">
                                <a href="#" class="mega-link">
                                    <div class="mega-link-icon">üìö</div>
                                    <div class="mega-link-content">
                                        <h4>Getting Started</h4>
                                        <p>Quick start guide</p>
                                    </div>
                                </a>
                                <a href="#" class="mega-link">
                                    <div class="mega-link-icon">üìñ</div>
                                    <div class="mega-link-content">
                                        <h4>API Reference</h4>
                                        <p>Complete API docs</p>
                                    </div>
                                </a>
                                <a href="#" class="mega-link">
                                    <div class="mega-link-icon">üí°</div>
                                    <div class="mega-link-content">
                                        <h4>Examples</h4>
                                        <p>Code samples & tutorials</p>
                                    </div>
                                </a>
                            </div>
                        </div>
                        
                        <div class="mega-section">
                            <h3 class="mega-title">Community</h3>
                            <div class="mega-links">
                                <a href="#" class="mega-link">
                                    <div class="mega-link-icon">üí¨</div>
                                    <div class="mega-link-content">
                                        <h4>Discord</h4>
                                        <p>Join our community</p>
                                    </div>
                                </a>
                                <a href="#" class="mega-link">
                                    <div class="mega-link-icon">üêô</div>
                                    <div class="mega-link-content">
                                        <h4>GitHub</h4>
                                        <p>Source code & issues</p>
                                    </div>
                                </a>
                                <a href="#" class="mega-link">
                                    <div class="mega-link-icon">üìù</div>
                                    <div class="mega-link-content">
                                        <h4>Blog</h4>
                                        <p>Latest updates</p>
                                    </div>
                                </a>
                            </div>
                        </div>
                        
                        <div class="mega-feature">
                            <div class="feature-card">
                                <h3>üéØ Quick Start</h3>
                                <div class="code-snippet">
                                    <code>composer create-project tuskphp/skeleton my-app</code>
                                </div>
                                <a href="#" class="feature-button">View Guide</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="menu-item">
                <a href="#" class="menu-link">
                    <span class="link-icon">üí∞</span>
                    <span class="link-text">Pricing</span>
                </a>
            </div>
            
            <div class="menu-item">
                <a href="#" class="menu-link">
                    <span class="link-icon">üè¢</span>
                    <span class="link-text">Company</span>
                </a>
            </div>
        </div>
        
        <div class="navbar-actions">
            <div class="user-menu">
                <button class="user-menu-trigger" id="user-menu-trigger">
                    <div class="user-avatar">
                        <img src="https://via.placeholder.com/32" alt="User" class="avatar-img">
                        <div class="status-indicator online"></div>
                    </div>
                    <span class="user-name">John Doe</span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                
                <div class="user-dropdown" id="user-dropdown">
                    <div class="dropdown-header">
                        <div class="user-info">
                            <h4>John Doe</h4>
                            <p>john@company.com</p>
                        </div>
                    </div>
                    <div class="dropdown-menu">
                        <a href="#" class="dropdown-link">
                            <i class="fas fa-user"></i>
                            Profile
                        </a>
                        <a href="#" class="dropdown-link">
                            <i class="fas fa-cog"></i>
                            Settings
                        </a>
                        <a href="#" class="dropdown-link">
                            <i class="fas fa-question-circle"></i>
                            Help
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-link logout">
                            <i class="fas fa-sign-out-alt"></i>
                            Logout
                        </a>
                    </div>
                </div>
            </div>
            
            <button class="mobile-toggle" id="mobile-toggle-alt-3">
                <span class="toggle-icon">
                    <span></span>
                    <span></span>
                    <span></span>
                </span>
                <span class="toggle-label">Menu</span>
            </button>
        </div>
    </div>
</nav>

<style>
.tusk-navbar-alt-3 {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 70px;
    background: white;
    border-bottom: 1px solid #e2e8f0;
    z-index: 1000;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.navbar-container {
    max-width: 1400px;
    margin: 0 auto;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 2rem;
}

.navbar-brand {
    display: flex;
    align-items: center;
}

.brand-link {
    display: flex;
    align-items: center;
    gap: 1rem;
    text-decoration: none;
    color: inherit;
}

.brand-logo {
    position: relative;
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #667eea, #764ba2);
    border-radius: 12px;
}

.logo-primary {
    font-size: 1.5rem;
    position: relative;
    z-index: 2;
}

.logo-secondary {
    position: absolute;
    top: -2px;
    right: -2px;
    font-size: 0.75rem;
    z-index: 3;
}

.brand-content {
    display: flex;
    flex-direction: column;
}

.brand-title {
    margin: 0;
    font-size: 1.5rem;
    font-weight: 700;
    color: #2d3748;
    line-height: 1;
}

.brand-tagline {
    margin: 0;
    font-size: 0.75rem;
    color: #718096;
    font-weight: 500;
}

.navbar-menu {
    display: flex;
    align-items: center;
    gap: 2rem;
}

.menu-item {
    position: relative;
}

.menu-link {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    color: #4a5568;
    text-decoration: none;
    border-radius: 8px;
    transition: all 0.3s ease;
    font-weight: 500;
}

.menu-link:hover {
    background: #f7fafc;
    color: #667eea;
    text-decoration: none;
}

.link-icon {
    font-size: 1.125rem;
}

.link-text {
    font-size: 0.875rem;
}

.link-arrow {
    font-size: 0.75rem;
    margin-left: 0.25rem;
    transition: transform 0.3s ease;
}

.mega-menu-trigger:hover .link-arrow {
    transform: rotate(180deg);
}

.mega-menu {
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    width: 800px;
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 12px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
    opacity: 0;
    visibility: hidden;
    transform: translateX(-50%) translateY(-10px);
    transition: all 0.3s ease;
    margin-top: 1rem;
}

.mega-menu-trigger:hover .mega-menu {
    opacity: 1;
    visibility: visible;
    transform: translateX(-50%) translateY(0);
}

.mega-menu-container {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr 300px;
    gap: 2rem;
    padding: 2rem;
}

.mega-section h3.mega-title {
    margin: 0 0 1rem 0;
    font-size: 0.875rem;
    font-weight: 700;
    color: #2d3748;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.mega-links {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.mega-link {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.75rem;
    color: inherit;
    text-decoration: none;
    border-radius: 8px;
    transition: all 0.3s ease;
}

.mega-link:hover {
    background: #f7fafc;
    text-decoration: none;
    color: inherit;
}

.mega-link-icon {
    font-size: 1.25rem;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #f7fafc;
    border-radius: 8px;
}

.mega-link-content h4 {
    margin: 0 0 0.25rem 0;
    font-size: 0.875rem;
    font-weight: 600;
    color: #2d3748;
}

.mega-link-content p {
    margin: 0;
    font-size: 0.75rem;
    color: #718096;
}

.mega-feature {
    grid-row: 1 / -1;
    display: flex;
    align-items: center;
}

.feature-card {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    padding: 1.5rem;
    border-radius: 12px;
    text-align: center;
    width: 100%;
}

.feature-card h3 {
    margin: 0 0 1rem 0;
    font-size: 1.125rem;
    font-weight: 700;
}

.feature-card p {
    margin: 0 0 1.5rem 0;
    font-size: 0.875rem;
    opacity: 0.9;
    line-height: 1.5;
}

.code-snippet {
    background: rgba(0, 0, 0, 0.2);
    padding: 0.75rem;
    border-radius: 6px;
    margin: 1rem 0;
    font-family: monospace;
    font-size: 0.75rem;
}

.feature-button {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: rgba(255, 255, 255, 0.2);
    color: white;
    text-decoration: none;
    border-radius: 6px;
    font-size: 0.875rem;
    font-weight: 500;
    transition: all 0.3s ease;
}

.feature-button:hover {
    background: rgba(255, 255, 255, 0.3);
    text-decoration: none;
    color: white;
}

.navbar-actions {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.user-menu {
    position: relative;
}

.user-menu-trigger {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.5rem 1rem;
    background: #f7fafc;
    border: 1px solid #e2e8f0;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    color: #4a5568;
    font-size: 0.875rem;
}

.user-menu-trigger:hover {
    background: #edf2f7;
    border-color: #cbd5e0;
}

.user-avatar {
    position: relative;
    width: 32px;
    height: 32px;
}

.avatar-img {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    object-fit: cover;
}

.status-indicator {
    position: absolute;
    bottom: 0;
    right: 0;
    width: 10px;
    height: 10px;
    border: 2px solid white;
    border-radius: 50%;
}

.status-indicator.online {
    background: #48bb78;
}

.user-name {
    font-weight: 500;
}

.user-dropdown {
    position: absolute;
    top: 100%;
    right: 0;
    width: 240px;
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 12px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all 0.3s ease;
    margin-top: 0.5rem;
}

.user-menu:hover .user-dropdown {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.dropdown-header {
    padding: 1rem;
    border-bottom: 1px solid #e2e8f0;
}

.user-info h4 {
    margin: 0 0 0.25rem 0;
    font-size: 0.875rem;
    font-weight: 600;
    color: #2d3748;
}

.user-info p {
    margin: 0;
    font-size: 0.75rem;
    color: #718096;
}

.dropdown-menu {
    padding: 0.5rem;
}

.dropdown-link {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem;
    color: #4a5568;
    text-decoration: none;
    border-radius: 6px;
    transition: all 0.3s ease;
    font-size: 0.875rem;
}

.dropdown-link:hover {
    background: #f7fafc;
    text-decoration: none;
    color: #4a5568;
}

.dropdown-link.logout {
    color: #e53e3e;
}

.dropdown-link.logout:hover {
    background: #fed7d7;
    color: #c53030;
}

.dropdown-divider {
    height: 1px;
    background: #e2e8f0;
    margin: 0.5rem 0;
}

.mobile-toggle {
    display: none;
    flex-direction: column;
    align-items: center;
    gap: 0.25rem;
    background: none;
    border: none;
    cursor: pointer;
    padding: 0.5rem;
    color: #4a5568;
}

.toggle-icon {
    display: flex;
    flex-direction: column;
    gap: 3px;
}

.toggle-icon span {
    width: 20px;
    height: 2px;
    background: #4a5568;
    border-radius: 2px;
    transition: all 0.3s ease;
}

.toggle-label {
    font-size: 0.75rem;
    font-weight: 500;
}

@media (max-width: 1024px) {
    .mega-menu {
        width: 600px;
    }
    
    .mega-menu-container {
        grid-template-columns: 1fr 1fr 200px;
    }
    
    .brand-tagline {
        display: none;
    }
}

@media (max-width: 768px) {
    .navbar-container {
        padding: 0 1rem;
    }
    
    .navbar-menu {
        display: none;
    }
    
    .user-menu {
        display: none;
    }
    
    .mobile-toggle {
        display: flex;
    }
    
    .brand-content {
        display: none;
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const navbar = document.getElementById('tusk-navbar-alt-3');
    const mobileToggle = document.getElementById('mobile-toggle-alt-3');
    const userMenuTrigger = document.getElementById('user-menu-trigger');
    const userDropdown = document.getElementById('user-dropdown');
    const megaMenuTriggers = navbar.querySelectorAll('.mega-menu-trigger');
    
    // Mobile toggle
    mobileToggle.addEventListener('click', function() {
        console.log('Mobile menu toggle clicked');
        // Implement mobile menu functionality
    });
    
    // User menu toggle (for mobile/touch devices)
    userMenuTrigger.addEventListener('click', function(e) {
        e.stopPropagation();
        userDropdown.style.opacity = userDropdown.style.opacity === '1' ? '0' : '1';
        userDropdown.style.visibility = userDropdown.style.visibility === 'visible' ? 'hidden' : 'visible';
        userDropdown.style.transform = userDropdown.style.opacity === '1' ? 'translateY(0)' : 'translateY(-10px)';
    });
    
    // Close user dropdown when clicking outside
    document.addEventListener('click', function(e) {
        if (!userMenuTrigger.contains(e.target) && !userDropdown.contains(e.target)) {
            userDropdown.style.opacity = '0';
            userDropdown.style.visibility = 'hidden';
            userDropdown.style.transform = 'translateY(-10px)';
        }
    });
    
    // Mega menu functionality for touch devices
    megaMenuTriggers.forEach(trigger => {
        const menuLink = trigger.querySelector('.menu-link');
        const megaMenu = trigger.querySelector('.mega-menu');
        
        menuLink.addEventListener('click', function(e) {
            if (window.innerWidth <= 1024) {
                e.preventDefault();
                
                // Close other mega menus
                megaMenuTriggers.forEach(otherTrigger => {
                    if (otherTrigger !== trigger) {
                        const otherMenu = otherTrigger.querySelector('.mega-menu');
                        otherMenu.style.opacity = '0';
                        otherMenu.style.visibility = 'hidden';
                    }
                });
                
                // Toggle current mega menu
                const isVisible = megaMenu.style.visibility === 'visible';
                megaMenu.style.opacity = isVisible ? '0' : '1';
                megaMenu.style.visibility = isVisible ? 'hidden' : 'visible';
                megaMenu.style.transform = isVisible ? 
                    'translateX(-50%) translateY(-10px)' : 
                    'translateX(-50%) translateY(0)';
            }
        });
    });
    
    // Close mega menus when clicking outside
    document.addEventListener('click', function(e) {
        if (!navbar.contains(e.target)) {
            megaMenuTriggers.forEach(trigger => {
                const megaMenu = trigger.querySelector('.mega-menu');
                megaMenu.style.opacity = '0';
                megaMenu.style.visibility = 'hidden';
                megaMenu.style.transform = 'translateX(-50%) translateY(-10px)';
            });
        }
    });
    
    // Scroll effect
    window.addEventListener('scroll', function() {
        if (window.scrollY > 10) {
            navbar.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.15)';
        } else {
            navbar.style.boxShadow = '0 1px 3px rgba(0, 0, 0, 0.1)';
        }
    });
    
    // Add search functionality to the mega menus
    const megaLinks = navbar.querySelectorAll('.mega-link');
    megaLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const title = this.querySelector('h4').textContent;
            console.log('Navigate to:', title);
            // Implement navigation logic here
        });
    });
    
    // Keyboard navigation for accessibility
    navbar.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            // Close all open menus
            megaMenuTriggers.forEach(trigger => {
                const megaMenu = trigger.querySelector('.mega-menu');
                megaMenu.style.opacity = '0';
                megaMenu.style.visibility = 'hidden';
            });
            
            userDropdown.style.opacity = '0';
            userDropdown.style.visibility = 'hidden';
        }
    });
});
</script>